#ifndef FUNC_H
#define FUNC_H

#include <cstdlib>
#include "type.h"


// Crash program for owns asserts
// --------------------------------------------------------------------------------------------------
#define CRASH_PROGRAM(reason) \
 printf ("ERROR: crash program in %s:%d\n" \
         "Reason: %s\n", \
         __FILE__, __LINE__, reason); \
 exit (1);
// --------------------------------------------------------------------------------------------------


// Exit functions with auto print error
// --------------------------------------------------------------------------------------------------
#define EXIT_FUNC(reason, return_value) \
 printf ("ERROR in \"%s:%d\": %s\n", __FILE__, __LINE__, reason); \
 return return_value;
// --------------------------------------------------------------------------------------------------


// Own assert for objects
// --------------------------------------------------------------------------------------------------
#define ASSERT_OBJECT(object) \
 if (object == BAD_OBJECT) \
 { \
     CRASH_PROGRAM("BAD_OBJECT"); \
 }
// --------------------------------------------------------------------------------------------------

// ----------------------------------------------------------------------------------------------------
#define SIZE_OBJECT(amount_symbol) amount_symbol * sizeof (char)
// ----------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------
int create_tree (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
node_t* create_node (node_t* root,
                     SIDES side,
                     obj_t object);
// ----------------------------------------------------------------------------------------------------


// ----------------------------------------------------------------------------------------------------
node_t* get_next_node (node_t* node);
// ----------------------------------------------------------------------------------------------------
int get_user_bool ();
// ----------------------------------------------------------------------------------------------------
node_t* get_user_node (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
int save_node (node_t* node,
               FILE* file);
// ----------------------------------------------------------------------------------------------------
obj_t get_user_object ();
// ----------------------------------------------------------------------------------------------------
int check_user_object (obj_t object);
// ----------------------------------------------------------------------------------------------------
EVENT get_event (EVENT prev);
// ----------------------------------------------------------------------------------------------------
node_t* find_node (node_t* node,
                   obj_t object,
                   size_t hash);
// ----------------------------------------------------------------------------------------------------


// ----------------------------------------------------------------------------------------------------
int delete_node (node_t* node);
// ----------------------------------------------------------------------------------------------------
int delete_tree (tree_t* tree);
// ----------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------
int create_line (node_t* node,
                 FILE* file);
// ----------------------------------------------------------------------------------------------------
int create_block (node_t* node,
                  FILE* file);
// ----------------------------------------------------------------------------------------------------
int create_graph (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
int dump_tree (tree_t* tree,
               const char* reason);
// ----------------------------------------------------------------------------------------------------


// ----------------------------------------------------------------------------------------------------
int compare_objects (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
int desc_object (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
int guess_object (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
int save_data (tree_t* tree);
// ----------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------
size_t get_size_object (obj_t object);
// ----------------------------------------------------------------------------------------------------
int find_number_dump ();
// ----------------------------------------------------------------------------------------------------
int make_dir_address (const char* address_dir,
                      const int number_dir,
                      const char* address_file,
                      char* string);
// ----------------------------------------------------------------------------------------------------
size_t get_hash (const char* string);
// ----------------------------------------------------------------------------------------------------



#endif // FUNC_H
