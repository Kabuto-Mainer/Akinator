#ifndef FUNC_H
#define FUNC_H

#include <cstdlib>
#include "type.h"


// Crash program for owns asserts
// --------------------------------------------------------------------------------------------------
#define CRASH_PROGRAM(reason) \
 printf ("ERROR: crash program in %s:%d\n" \
         "Reason: %s\n", \
         __FILE__, __LINE__, reason); \
 exit (1);
// --------------------------------------------------------------------------------------------------


// Exit functions with auto print error
// --------------------------------------------------------------------------------------------------
#define EXIT_FUNC(reason, return_value) \
 printf ("ERROR in \"%s:%d\": %s\n", __FILE__, __LINE__, reason); \
 return return_value;
// --------------------------------------------------------------------------------------------------


// Own assert for objects
// --------------------------------------------------------------------------------------------------
#define ASSERT_OBJECT(object) \
 if (object.name == NULL) \
 { \
     CRASH_PROGRAM("BAD_OBJECT"); \
 }
// --------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------
int create_tree (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
int akinator ();
// ----------------------------------------------------------------------------------------------------


// ----------------------------------------------------------------------------------------------------
node_t* find_node (node_t* node,
                   obj_t object);
// ----------------------------------------------------------------------------------------------------
int get_user_bool ();
// ----------------------------------------------------------------------------------------------------
node_t* get_user_node (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
EVENT get_event (EVENT prev);
// ----------------------------------------------------------------------------------------------------


// ----------------------------------------------------------------------------------------------------
int delete_node (node_t* node);
// ----------------------------------------------------------------------------------------------------
int delete_tree (tree_t* tree);
// ----------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------
int dump_tree (tree_t* tree,
               const char* reason);
// ----------------------------------------------------------------------------------------------------
int debug_html (node_t* root,
                const char* reason,
                const char* add_string);
// ----------------------------------------------------------------------------------------------------
int debug_graph (node_t* root);
// ----------------------------------------------------------------------------------------------------
int create_line (node_t* node,
                 FILE* file);
// ----------------------------------------------------------------------------------------------------
int create_block (node_t* node,
                  FILE* file);
// ----------------------------------------------------------------------------------------------------
int create_graph (tree_t* tree);
// ----------------------------------------------------------------------------------------------------




// ----------------------------------------------------------------------------------------------------
int compare_objects (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
int desc_object (tree_t* tree);
// ----------------------------------------------------------------------------------------------------








// ----------------------------------------------------------------------------------------------------
int guess_object (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
node_t* create_node (node_t* root,
                     SIDES side,
                     obj_t object);
// ----------------------------------------------------------------------------------------------------
obj_t get_user_object ();
// ----------------------------------------------------------------------------------------------------
int check_user_object (obj_t object);
// ----------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------
int save_data (tree_t* tree);
// ----------------------------------------------------------------------------------------------------
int save_node (node_t* node,
               FILE* file);
// ----------------------------------------------------------------------------------------------------



// ---------------------------------------------------------------------------------------------------
int import_data (tree_t* tree);
// ---------------------------------------------------------------------------------------------------
node_t* upload_node (node_t* root,
                     char** cur_char);
// ----------------------------------------------------------------------------------------------------
int skip_after_symbol (char** cur_pose,
                       int symbol);
// ----------------------------------------------------------------------------------------------------
int skip_void (char** cur_pose);
// ----------------------------------------------------------------------------------------------------



// ----------------------------------------------------------------------------------------------------
size_t get_size_object (obj_t object);
// ----------------------------------------------------------------------------------------------------
int find_number_dump ();
// ----------------------------------------------------------------------------------------------------
int make_dir_address (const char* address_dir,
                      const int number_dir,
                      const char* address_file,
                      char* string);
// ----------------------------------------------------------------------------------------------------
int get_hash (const char* string);
// ----------------------------------------------------------------------------------------------------
size_t file_size_check(const char* name_file);
// ----------------------------------------------------------------------------------------------------
int clean_html (const char* address_html);
// ----------------------------------------------------------------------------------------------------
int clean_dir (const char* address_dir);
// ----------------------------------------------------------------------------------------------------
void msleep (long int milisec);
// ----------------------------------------------------------------------------------------------------
int my_print (const char* format, ...);
// ----------------------------------------------------------------------------------------------------
int print_delay_string (const char* string);
// ----------------------------------------------------------------------------------------------------
char* int_to_char (int value);
// ----------------------------------------------------------------------------------------------------




#endif // FUNC_H
